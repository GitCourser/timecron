import{r,f,E as H,a7 as $,H as J,c as V,a as s,I as O,o as d,h as o,J as R,u as n,K as q,p as g,a8 as I,a9 as K,k as p,M as G,l as h,g as _,i as x,b as a,j as i,F as B,_ as Q,aa as W,z as T,s as X,ab as Y,y as Z,m as M,C as ee,A as le,O as ae,ac as te,a5 as ne,ad as oe,ae as se,P as ue,t as ie}from"./index.62c2fd96.js";import{_ as D}from"./CardBoxModal.413b2fd1.js";const re={style:{"margin-right":"10px"}},de={style:{color:"palevioletred"}},ce=a("p",null,"\u5220\u9664\u5168\u90E8\u65E5\u5FD7\u4F1A\u4F7F\u8FD0\u884C\u4E2D\u4EFB\u52A1\u7684\u65E5\u5FD7\u4E22\u5931,\u4E5F\u5B58\u5728\u5171\u4EAB\u51B2\u7A81\u7684\u95EE\u9898\u5BFC\u81F4\u5220\u9664\u5931\u8D25",-1),me=a("th",null,"\u540D\u79F0",-1),ve=a("th",null,"\u5927\u5C0F",-1),_e=a("th",null,"\u6700\u540E\u66F4\u65B0\u65F6\u95F4",-1),fe=a("th",null,null,-1),ge={key:0},pe={class:"border-b-0 lg:w-6 before:hidden"},he={"data-label":"\u540D\u79F0"},be={"data-label":"\u5927\u5C0F"},ke={"data-label":"\u6700\u540E\u66F4\u65B0\u65F6\u95F4",class:"lg:w-56"},we={class:"before:hidden lg:w-1 whitespace-nowrap"},ye={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},xe={__name:"LogTablesView",setup(Ce){let c=r([]);const L=f(()=>c.value),b=r(!1),k=r(!1),w=r(!1),y=r(10),m=r(0);r([]);const C=f(()=>L.value.slice(y.value*m.value,y.value*(m.value+1))),P=f(()=>Math.ceil(L.value.length/y.value)),j=f(()=>m.value+1),A=f(()=>{const u=[];for(let l=0;l<P.value;l++)u.push(l);return u});let t=r({});function E(u){b.value=!0,t.value=u}function N(u){k.value=!0,t.value=u}function F(){te(t.value.name).then(async u=>{c.value=await $()||[]}),t.value={}}function S(){if(c.value.length<=0)return ne("\u6CA1\u6709\u65E5\u5FD7\u6570\u636E");oe().then(async u=>{c.value=await $()||[]})}function U(u){se(u.name).then(l=>{})}ue(),H(async()=>{c.value=await $()||[]});const z=ie();return J({name:"John Doe",email:"john.doe@example.com",phone:"",department:z[0],subject:"",question:""}),r(!1),(u,l)=>(d(),V(O,null,{default:s(()=>[o(ae,null,{default:s(()=>[o(R,{icon:n(q),title:"\u5168\u90E8\u65E5\u5FD7",main:""},{default:s(()=>[o(g,{icon:n(I),label:"\u6E05\u7A7A\u5168\u90E8","rounded-full":"",small:"",color:"danger",onClick:l[0]||(l[0]=e=>w.value=!0)},null,8,["icon"])]),_:1},8,["icon"]),o(n(K),{severity:"warn"},{default:s(()=>[p("\u5220\u9664\u6B63\u5728\u8FD0\u884C\u4E2D\u4EFB\u52A1\u7684\u65E5\u5FD7,\u4F1A\u4F7F\u8FD0\u884C\u4E2D\u4EFB\u52A1\u7684\u65E5\u5FD7\u4E22\u5931,\u4E5F\u5B58\u5728\u5171\u4EAB\u51B2\u7A81\u7684\u95EE\u9898\u5BFC\u81F4\u5220\u9664\u5931\u8D25,\u5F53\u4EFB\u52A1\u542F\u52A8\u65F6\u4F1A\u91CD\u65B0\u521B\u5EFA\u65E5\u5FD7\u6587\u4EF6,\u60A8\u53EF\u4EE5\u91CD\u65B0\u8FD0\u884C\u5B9A\u65F6\u4EFB\u52A1")]),_:1}),o(G,{class:"mb-6","has-table":""},{default:s(()=>[o(D,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value=e),title:"\u65E5\u5FD7\u4FE1\u606F",onConfirm:l[2]||(l[2]=e=>h(t)?t.value={}:t={}),onCancel:l[3]||(l[3]=e=>h(t)?t.value={}:t={})},{default:s(()=>[(d(!0),_(B,null,x(n(t),(e,v)=>(d(),_("p",{key:v},[a("b",re,i(v)+":",1),p(i(e),1)]))),128)),a("p",de,"\u65E5\u5FD7\u6587\u4EF6\u5B58\u50A8\u8DEF\u5F84: /logs/"+i(n(t).name),1)]),_:1},8,["modelValue"]),o(D,{modelValue:k.value,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value=e),title:"\u5220\u9664",button:"danger","has-cancel":"",onCancel:l[5]||(l[5]=e=>h(t)?t.value={}:t={}),onConfirm:F},{default:s(()=>[a("p",null,[p("\u786E\u5B9A\u5220\u9664\u65E5\u5FD7 "),a("b",null,i(n(t).name)+"?",1)])]),_:1},8,["modelValue"]),o(D,{modelValue:w.value,"onUpdate:modelValue":l[6]||(l[6]=e=>w.value=e),title:"\u5220\u9664\u5168\u90E8\u65E5\u5FD7",button:"danger","has-cancel":"",onCancel:l[7]||(l[7]=e=>h(t)?t.value={}:t={}),onConfirm:S},{default:s(()=>[ce]),_:1},8,["modelValue"]),a("table",null,[a("thead",null,[a("tr",null,[a("th",null,i(n(c).length)+"(\u4E2A)",1),me,ve,_e,fe])]),n(C).length>0?(d(),_("tbody",ge,[(d(!0),_(B,null,x(n(C),e=>(d(),_("tr",{key:e.id},[a("td",pe,[o(Q,{avatar:"image/log.png",username:e.name,class:"w-24 h-24 mx-auto lg:w-8 lg:h-6"},null,8,["username"])]),a("td",he,i(e.name),1),a("td",be,i((e.size/1024/1024).toFixed(2))+"MB ",1),a("td",ke,i(n(W)(e.date)),1),a("td",we,[o(T,{type:"justify-start lg:justify-end","no-wrap":""},{default:s(()=>[o(g,{color:"text-blue-500",icon:n(X),small:"",onClick:v=>E(e)},null,8,["icon","onClick"]),o(g,{color:"text-blue-500",icon:n(Y),small:"",onClick:v=>U(e)},null,8,["icon","onClick"]),o(g,{color:"text-red-500",icon:n(Z),small:"",onClick:v=>N(e)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])):M("",!0)]),n(C).length<=0?(d(),V(ee,{key:0},{default:s(()=>[p("\u6CA1\u6709\u65E5\u5FD7")]),_:1})):M("",!0),a("div",ye,[o(le,null,{default:s(()=>[o(T,null,{default:s(()=>[(d(!0),_(B,null,x(n(A),e=>(d(),V(g,{key:e,active:e===m.value,label:e+1,color:e===m.value?"lightDark":"whiteDark",small:"",onClick:v=>m.value=e},null,8,["active","label","color","onClick"]))),128))]),_:1}),a("small",null,"Page "+i(n(j))+" of "+i(n(P)),1)]),_:1})])]),_:1})]),_:1})]),_:1}))}};export{xe as default};
