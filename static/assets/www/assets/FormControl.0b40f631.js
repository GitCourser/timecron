import{o as r,c as w,X as E,f as m,Y as V,r as p,E as F,Z as R,g as d,u as a,d as h,$ as q,l as v,n as f,F as C,i as M,j as D,a0 as U,a1 as K,m as L}from"./index.62c2fd96.js";const $={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(s,n)=>(r(),w(E,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},j=["id","name"],z=["value"],A=["id","name","maxlength","placeholder","required"],H=["id","name","maxlength","inputmode","autocomplete","required","placeholder","type","disabled"],N={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},maxlength:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,disabled:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","setRef"],setup(e,{emit:s}){const n=e,o=m({get:()=>n.modelValue,set:u=>{s("update:modelValue",u)}}),y=m(()=>{const u=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",i.value==="textarea"?"h-24":"h-12",n.borderless?"border-0":"border",n.transparent?"bg-transparent":"bg-white dark:bg-slate-800"];return n.icon&&u.push("pl-10"),u}),i=m(()=>n.options?"select":n.type),B=m(()=>n.type==="textarea"?"h-full":"h-12"),g=V(),x=p(null),b=p(null),c=p(null);if(F(()=>{x.value?s("setRef",x.value):b.value?s("setRef",b.value):s("setRef",c.value)}),n.ctrlKFocus){const u=t=>{t.ctrlKey&&t.key==="k"?(t.preventDefault(),c.value.focus()):t.key==="Escape"&&c.value.blur()};F(()=>{g.isFieldFocusRegistered||(window.addEventListener("keydown",u),g.isFieldFocusRegistered=!0)}),R(()=>{window.removeEventListener("keydown",u),g.isFieldFocusRegistered=!1})}return(u,t)=>(r(),d("div",{class:f(["relative",e.disabled?"opacity-40":""])},[a(i)==="select"?h((r(),d("select",{key:0,id:e.id,"onUpdate:modelValue":t[0]||(t[0]=l=>v(o)?o.value=l:null),name:e.name,class:f(a(y))},[(r(!0),d(C,null,M(e.options,l=>{var k,S;return r(),d("option",{key:(k=l.id)!=null?k:l,value:l},D((S=l.label)!=null?S:l),9,z)}),128))],10,j)),[[q,a(o)]]):a(i)==="textarea"?h((r(),d("textarea",{key:1,id:e.id,"onUpdate:modelValue":t[1]||(t[1]=l=>v(o)?o.value=l:null),class:f(a(y)),name:e.name,maxlength:e.maxlength,placeholder:e.placeholder,required:e.required},null,10,A)),[[U,a(o)]]):h((r(),d("input",{key:2,id:e.id,ref_key:"inputEl",ref:c,"onUpdate:modelValue":t[2]||(t[2]=l=>v(o)?o.value=l:null),name:e.name,maxlength:e.maxlength,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:a(i),class:f(a(y)),disabled:e.disabled},null,10,H)),[[K,a(o)]]),e.icon?(r(),w($,{key:3,icon:e.icon,h:a(B)},null,8,["icon","h"])):L("",!0)],2))}};export{N as _};
